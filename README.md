# 摸鱼小项目(一) ---- 两轮平衡车

## 数学建模

| 变量 | 大小 | 说明              |
| ---- | ---- | ----------------- |
| $L$  | 0.06 | 车子的重心高度$m$ |

对于输入外部扰动时选择的量为角加速度$\ddot{\theta}$



TIM6定时中断：

 $\text{It}_{time} =\frac{(Pre+1)(Counter+1)}{Tclk}=5ms$

左轮：A 

右轮：B 

TIM2: 2

TIM3: 1



对偶，确实，其实我不应该选择自然情况下的$0^o$点，而应该选择机械中值！理应如此。

其实有一个问题，那就是我如何转换我的加速度到我的电机上面呢？ --- 目前的解决方法是直接将加速度的值变换成 pwm 值

还有一个就是说 MPU6050 返回的 Pitch 角度是会有误差的， 目前是 $10^{-1}$精度的误差，太恐怖了，假设 kp = 200, 相当于误差被拉了 20，算出来会有$ m/s^2$,所以目前解决的办法是通过取整，直接对 pitch 角度取整，但其实这丧失了响应的快速性，离散的太大了，得拉大kd补回来

